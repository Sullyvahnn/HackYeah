<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8">
  <title>ThreatLens</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

  <!-- Your CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='styles/index.css') }}">
  <<!--     <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}"> -->

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js" defer></script>

<!-- Your JS -->
  <script src="{{ url_for('static', filename='scripts/heatmap.js') }}" defer></script>
    <script src="{{ url_for('static', filename='scripts/alert.js') }}" defer></script>
    <script src="{{ url_for('static', filename='scripts/index.js') }}" defer></script>



</head>
<body>
<<!--     <script src="{{ url_for('static', filename='js/main.js') }}"></script> -->
  <div id="map"></div>

  <!-- Hamburger button -->
  <button class="menu-btn" onclick="toggleMenu()">☰</button>
  <!-- Dodaj w odpowiednim miejscu na stronie -->
<div id="searchBox" style="position: fixed; top: 70px; left: 50%; transform: translateX(-50%); z-index: 1000; background: white; padding: 10px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);">
    <input 
        type="text" 
        id="addressSearch" 
        placeholder="Szukaj adresu..."
        style="width: 300px; padding: 8px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px;"
    />
    <button onclick="searchAddress()" style="padding: 8px 15px; margin-left: 5px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
        🔍 Szukaj
    </button>
    <div id="searchResults" style="margin-top: 10px; max-height: 200px; overflow-y: auto;"></div>
</div><!-- Dodaj w odpowiednim miejscu na stronie -->
<div id="searchBox" style="position: fixed; top: 70px; left: 50%; transform: translateX(-50%); z-index: 1000; background: white; padding: 10px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.2);">
    <input 
        type="text" 
        id="addressSearch" 
        placeholder="Szukaj adresu w Warszawie..."
        style="width: 300px; padding: 8px; border: 1px solid #ccc; border-radius: 5px; font-size: 14px;"
    />
    <button onclick="searchAddress()" style="padding: 8px 15px; margin-left: 5px; background: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer;">
        🔍 Szukaj
    </button>
    <div id="searchResults" style="margin-top: 10px; max-height: 200px; overflow-y: auto;"></div>
</div>
  <!-- Side menu -->
  <div class="side-menu" id="menu">
    <h2>Menu ThreatLens</h2>

    <button onclick="enableAlertMode()">Zgłoś alert</button>

    {% if user_email %}
      <div class="user-info">
        <p>Zalogowany jako:</p>
        <strong>{{ user_email }}</strong>
      </div>
      <a href="{{ url_for('auth.logout') }}">Wyloguj</a>
    {% else %}
      <a href="{{ url_for('auth.login') }}">Zaloguj się</a>
    {% endif %}

    <button class="close-btn" onclick="toggleMenu()" style="color: #d62828">Zamknij menu</button>
  </div>

</body>
</html>